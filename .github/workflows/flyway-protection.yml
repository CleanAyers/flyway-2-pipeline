name: Flyway Landing Confirmation

on:
  pull_request:
    branches: [ main, master ]
  push:
    branches: [ main, master ]

jobs:
  landing-confirmation:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Confirm landing
      run: |
        echo "✅ Child repo received commit $GITHUB_SHA from $GITHUB_REPOSITORY"
        echo "Triggered by $GITHUB_EVENT_NAME on $(date -Iseconds)"
        {
          echo "## ✅ Landing confirmation"
          echo "- Commit: $GITHUB_SHA"
          echo "- Branch: $GITHUB_REF"
          echo "- Trigger: $GITHUB_EVENT_NAME"
        } >> "$GITHUB_STEP_SUMMARY"
